(this.webpackJsonpwinbet=this.webpackJsonpwinbet||[]).push([[0],{199:function(e,t,a){},200:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(53),s=a.n(c),o=(a(66),a(5)),i=a.n(o),r=a(10),d=a(54),u=a(55),m=a(7),b=a(60),h=a(59),v=(a(68),a(56)),p=a.n(v),g=(a(199),{tronWeb:!1,contract:!1,setTronWeb:function(e){var t=this;return Object(r.a)(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.tronWeb=e,a.next=3,e.contract().at("TJPai8XZ7QD9wpCCXdEnhWmCTWvHJjWG83");case 3:return t.contract=a.sent,a.next=6,e.contract().at("TLa2f6VPqDgRE67v1736s7bJ8Ray5wYjU7");case 6:t.contractWin=a.sent;case 7:case"end":return a.stop()}}),a)})))()}}),w=a(57),E=a.n(w),f=a(58),y=a.n(f),N=a(22),x=a.n(N),k=new x.a(E.a,{volume:.8,throttleMs:100}),W=new x.a(y.a,{volume:.8,throttleMs:100}),C=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).displayData=[],n.state={tronwebaddress:"",candidates:[],hasVoted:!1,loading:!1,hasPendingBet:!1,betlevelNow:0,dataAdd:"",datalevel:0,datawon:0,dataSelected:0,dataprice:0,buyvalue:100,allowed:0,active:!1,showdata:n.displayData,postVal:"",tronWeb:{installed:!1,loggedIn:!1}},n.prependData=n.prependData.bind(Object(m.a)(n)),n.startGame=n.startGame.bind(Object(m.a)(n)),n.buildTowerInput=n.buildTowerInput.bind(Object(m.a)(n)),n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.CashoutMM=n.CashoutMM.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(r.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,new Promise((function(e){var t={installed:!!window.tronWeb,loggedIn:window.tronWeb&&window.tronWeb.ready};if(t.installed)return a.setState({tronWeb:t}),e();var n=0,l=setInterval((function(){if(n>=10){return window.tronWeb=new p.a("https://api.trongrid.io","https://api.trongrid.io","https://api.trongrid.io"),a.setState({tronWeb:{installed:!1,loggedIn:!1}}),clearInterval(l),e()}if(t.installed=!!window.tronWeb,t.loggedIn=window.tronWeb&&window.tronWeb.ready,!t.installed)return n++;a.setState({tronWeb:t}),e()}),100)}));case 3:return this.state.tronWeb.loggedIn||(window.tronWeb.defaultAddress={hex:window.tronWeb.address.toHex("TWiWt5SEDzaEqS6kE5gandWMNfxR2B5xzg"),base58:"TWiWt5SEDzaEqS6kE5gandWMNfxR2B5xzg"},window.tronWeb.on("addressChanged",(function(){a.state.tronWeb.loggedIn||a.setState({tronWeb:{installed:!0,loggedIn:!0}})}))),e.next=6,g.setTronWeb(window.tronWeb);case 6:return e.t0=g.tronWeb.address,e.next=9,g.tronWeb.trx.getAccount();case 9:return e.t1=e.sent.address.toString(),t=e.t0.fromHex.call(e.t0,e.t1),e.next=13,this.setState({tronwebaddress:t});case 13:this.setState({loading:!1}),console.log(g.contract),setInterval((function(){a.updatedata()}),7e3),setInterval((function(){a.checkAdd(),a.checkAllowance()}),1e3),this.startEventListener(),this.updatedata(),this.UpdateBalance(),this.checkAllowance();case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkAdd",value:function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=g.tronWeb.address,e.next=3,g.tronWeb.trx.getAccount();case 3:e.t1=e.sent.address.toString(),t=e.t0.fromHex.call(e.t0,e.t1),this.state.tronwebaddress!==t&&window.location.reload();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"UpdateBalance",value:function(){var e=this.state.buyvalue,t=120*e/100;document.getElementById("sec10").textContent=t,document.getElementById("sec11").textContent=t;t=160*e/100;document.getElementById("sec20").textContent=t,document.getElementById("sec21").textContent=t;t=200*e/100;document.getElementById("sec30").textContent=t,document.getElementById("sec31").textContent=t;t=300*e/100;document.getElementById("sec40").textContent=t,document.getElementById("sec41").textContent=t,this.setState({buyvalue:e})}},{key:"handleChange",value:function(e){var t=e.target.value,a=120*t/100;document.getElementById("sec10").textContent=a,document.getElementById("sec11").textContent=a;a=160*t/100;document.getElementById("sec20").textContent=a,document.getElementById("sec21").textContent=a;a=200*t/100;document.getElementById("sec30").textContent=a,document.getElementById("sec31").textContent=a;a=300*t/100;document.getElementById("sec40").textContent=a,document.getElementById("sec41").textContent=a,this.setState({buyvalue:t})}},{key:"CashoutMM",value:function(){var e=this;g.contract.cashout().send({}).then((function(t){e.updatedata()})).catch((function(e){console.log(e)}))}},{key:"buildTowerInput",value:function(e){g.contract.buildTower(1,e).send({}).then((function(e){})).catch((function(e){console.log(e)}))}},{key:"approve",value:function(){g.contractWin.approve("TJPai8XZ7QD9wpCCXdEnhWmCTWvHJjWG83",1e14).send({}).then((function(e){})).catch((function(e){console.log(e)}))}},{key:"startGame",value:function(){var e=this;g.contract.startGame(this.state.buyvalue).send({}).then((function(t){e.updatedata()})).catch((function(t){e.updatedata(),console.log(t)})),this.updatedata()}},{key:"updatedata",value:function(){var e=Object(r.a)(i.a.mark((function e(){var t=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.contract.player().call().then((function(e){var t=e.toNumber();document.getElementById("player").textContent=t})),g.contract.maxbet().call().then((function(e){var t=e.toNumber();document.getElementById("maxbet").textContent=t/1e6})),g.contract.winkBal().call().then((function(e){var t=e.toNumber();document.getElementById("win").textContent=t/1e6})),g.contract.Mined().call().then((function(e){var t=e.toNumber();document.getElementById("Mined").textContent=t/1e6})),g.contract.totalWagered().call().then((function(e){var t=e.toNumber();document.getElementById("totalWagered").textContent=t/1e6})),g.contract.cash().call().then((function(e){var t=e.toNumber();document.getElementById("cash").textContent=t/1e6})),g.contract.totalWon().call().then((function(e){var t=e.toNumber();document.getElementById("totalWon").textContent=t/1e6})),g.contract.userBet(this.state.tronwebaddress).call().then((function(e){var a=e.level.toNumber();t.setState({betlevelNow:a})}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkAllowance",value:function(){var e=this;g.contractWin.allowance(this.state.tronwebaddress,"TJPai8XZ7QD9wpCCXdEnhWmCTWvHJjWG83").call().then((function(t){var a=t.toNumber();console.log("allwaonce ",a),e.setState({allowed:a})}))}},{key:"startEventListener",value:function(){var e=this;g.contract.onBet().watch((function(t,a){var n=a.result;if(t)return console.log("Failed to bind the result : ",t);if(n){e.updatedata(),console.log("result",n),console.log("result0",n[0]);var l=g.tronWeb.address.fromHex(n[0]);l===e.state.tronwebaddress&&(n[2]===n[3]?W.play():k.play());var c=l.substring(0,5)+"..."+l.substring(7,12);e.setState({dataAdd:c}),e.setState({datalevel:n[1]}),e.setState({datawon:n[3]}),e.setState({dataSelected:n[2]}),e.setState({dataprice:n[5]}),e.prependData()}}))}},{key:"prependData",value:function(){this.displayData.unshift(l.a.createElement("div",{className:"datahis",key:+new Date+Math.random(),style:{marginBottom:"5px",background:this.state.datawon!==this.state.dataSelected?"brown":"green"}},l.a.createElement("div",null,this.state.dataAdd),l.a.createElement("div",null,this.state.datalevel),l.a.createElement("div",null,this.state.dataSelected),l.a.createElement("div",null,this.state.datawon))),this.setState({showdata:"trying",postVal:""})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:""},l.a.createElement("div",{className:"contractStat"},l.a.createElement("div",{id:"myModal",className:"datamd",style:{display:this.state.allowed>=1e6?"none":"block"}},l.a.createElement("div",{className:"modal-content",align:"center"},l.a.createElement("div",{align:"center"},l.a.createElement("img",{src:"images/winkmain.jpg",width:"130px",height:"85px"})),l.a.createElement("h4",null,"This Game Uses Wink Token"),l.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.approve()}},"ENABLE NOW"))),l.a.createElement("ul",{style:{fontSize:"12px"}},l.a.createElement("li",null,"Bets Made :",l.a.createElement("br",null),l.a.createElement("span",{id:"totalWagered",style:{color:"#dbaf0f",fontSize:"17px"}}," ","?"," ")," ",l.a.createElement("img",{src:"images/win.jpg",alt:"wink logo",width:"30px",height:"30px",style:{borderRadius:"50%",border:"1px solid white"}})),l.a.createElement("li",null,"Players :",l.a.createElement("br",null),l.a.createElement("span",{id:"player",style:{color:"#dbaf0f",fontSize:"17px"}}," ","?"," ")," "),l.a.createElement("li",null,"Total Won :",l.a.createElement("br",null),l.a.createElement("span",{id:"totalWon",style:{color:"#dbaf0f",fontSize:"17px"}}," ","?"," ")," ",l.a.createElement("img",{src:"images/win.jpg",alt:"wink logo",width:"30px",height:"30px",style:{borderRadius:"50%",border:"1px solid white"}})))),l.a.createElement("div",{className:"mid"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"main"},l.a.createElement("div",{className:"betarea"},l.a.createElement("div",{style:{color:"grey",fontSize:"12px",fontWeight:"bold"},align:"center"},"Total Mined :"," ",l.a.createElement("span",{style:{color:"#ffb000",fontFamily:"monospace"}},l.a.createElement("span",{id:"Mined"}," ?")," / 10,000.000,000 WTR"," ")),l.a.createElement("div",{className:"row",style:{background:"black",width:"95%",padding:"5px",margin:"auto"}}),l.a.createElement("div",{className:"tabs tab4 ".concat(0===this.state.betlevelNow?"opc":"","  ").concat(4===this.state.betlevelNow?"act_tab":""),id:"r4"},l.a.createElement("div",{className:"winwin",id:"id4",align:"center",style:{display:this.state.betlevelNow>=5?"block":"none"}},l.a.createElement("img",{src:"images/star.png",width:"25px",height:"25px",className:"sc11 imgdata"})),l.a.createElement("button",{className:"selectors sec4 ".concat(4===this.state.betlevelNow?"active":""," "),id:"sec40",onClick:function(){return e.buildTowerInput(1)}},"0.0000"),l.a.createElement("button",{className:"selectors sec4 ".concat(4===this.state.betlevelNow?"active":""," "),id:"sec41",onClick:function(){return e.buildTowerInput(2)}},"0.0000")),l.a.createElement("div",{className:"tabs tab3 ".concat(0===this.state.betlevelNow?"opc":""," ").concat(3===this.state.betlevelNow?"act_tab":""),id:"r3"},l.a.createElement("div",{className:"winwin",id:"id3",align:"center",style:{display:this.state.betlevelNow>=4?"block":"none"}},l.a.createElement("img",{src:"images/star.png",width:"25px",height:"25px",className:"sc11 imgdata"})),l.a.createElement("button",{className:"selectors sec3 ".concat(3===this.state.betlevelNow?"active":""," "),id:"sec30",onClick:function(){return e.buildTowerInput(1)}},"0.0000"),l.a.createElement("button",{className:"selectors sec3 ".concat(3===this.state.betlevelNow?"active":""," "),id:"sec31",onClick:function(){return e.buildTowerInput(2)}},"0.0000")),l.a.createElement("div",{className:"tabs tab2 ".concat(0===this.state.betlevelNow?"opc":"","  ").concat(2===this.state.betlevelNow?"act_tab":""),id:"r2"},l.a.createElement("div",{className:"winwin",id:"id2",align:"center",style:{display:this.state.betlevelNow>=3?"block":"none"}},l.a.createElement("img",{src:"images/star.png",width:"25px",height:"25px",className:"sc11 imgdata"})),l.a.createElement("button",{className:"selectors sec2 ".concat(2===this.state.betlevelNow?"active":""," "),id:"sec20",onClick:function(){return e.buildTowerInput(1)}},"0.0000"),l.a.createElement("button",{className:"selectors sec2 ".concat(2===this.state.betlevelNow?"active":""," "),id:"sec21",onClick:function(){return e.buildTowerInput(2)}},"0.0000")),l.a.createElement("div",{className:"tabs tab1 ".concat(0===this.state.betlevelNow?"opc":""," ").concat(1===this.state.betlevelNow?"act_tab":""),id:"r1"},l.a.createElement("div",{className:"winwin",id:"id1",align:"center",style:{display:this.state.betlevelNow>=2?"block":"none"}},l.a.createElement("img",{src:"images/star.png",width:"25px",height:"25px",className:"sc11 imgdata"})),l.a.createElement("button",{className:"selectors sec1 ".concat(1===this.state.betlevelNow?"active":""," "),id:"sec10",onClick:function(){return e.buildTowerInput(1)}},"0.0000"),l.a.createElement("button",{className:"selectors sec1 ".concat(1===this.state.betlevelNow?"active":""," "),id:"sec11",onClick:function(){return e.buildTowerInput(2)}},"0.0000")),l.a.createElement("label",{className:"btn start",onClick:this.startGame,style:{display:0===this.state.betlevelNow?"block":"none"}},"Start New Game"),l.a.createElement("label",{className:"btn cashout",style:{display:0===this.state.betlevelNow?"none":"block"},onClick:this.CashoutMM},"CASH OUT ",l.a.createElement("span",{id:"cash"}," ?")),l.a.createElement("br",null),l.a.createElement("div",{style:{fontFamily:"monospace",padding:"4px"},align:"center"},l.a.createElement("div",{align:"center",style:{background:"black",padding:"5px"}},l.a.createElement("i",{className:"fas fa-wallet fa-1x"})," :"," ",l.a.createElement("span",{id:"win"}," ? ")," ",l.a.createElement("img",{src:"images/win.jpg",width:"25px",height:"25px",className:"sc11 imgdata"})),l.a.createElement("br",null),"Bet Amount :"," ",l.a.createElement("span",{id:"maxbet",style:{color:"brown"}},"?")," ","MAX",l.a.createElement("div",{className:"inputdata"},l.a.createElement("input",{type:"number",id:"buy",placeholder:"Wink Amount",value:this.state.buyvalue,onChange:this.handleChange}),l.a.createElement("div",{className:"half"},"1/2"),l.a.createElement("div",{className:"half"},"2x"),l.a.createElement("div",{className:"half"},"MAX"))),l.a.createElement("br",null),l.a.createElement("div",{align:"center"},"How to play"))))),l.a.createElement("div",null,l.a.createElement("div",{className:"container history"},l.a.createElement("ul",null,l.a.createElement("li",{className:"his1"},"All Bets "),l.a.createElement("li",{className:"his2"},"My Bets ")),l.a.createElement("div",{className:"datahis",style:{background:"none",color:"#2484bc",fontWeight:"bold",fontSize:"12px"}},l.a.createElement("div",null,"Player"),l.a.createElement("div",null,"Level"),l.a.createElement("div",null,"Bet"),l.a.createElement("div",null,"Result")),l.a.createElement("div",{className:"",id:"historydata"},l.a.createElement("div",null,this.displayData),l.a.createElement("div",{className:"datahis"},l.a.createElement("div",null,"TBY2A...caJ6n"),l.a.createElement("div",null,"2"),l.a.createElement("div",null,"1"),l.a.createElement("div",null,"1")),l.a.createElement("div",{className:"datahis",style:{background:"brown"}},l.a.createElement("div",null,"TBY2A...caJ6n"),l.a.createElement("div",null,"2"),l.a.createElement("div",null,"1"),l.a.createElement("div",null,"1")),l.a.createElement("div",{className:"datahis"},l.a.createElement("div",null,"TBY2A...caJ6n"),l.a.createElement("div",null,"2"),l.a.createElement("div",null,"1"),l.a.createElement("div",null,"1"))))))}}]),a}(l.a.Component);s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(C,null)),document.getElementById("root"))},57:function(e,t,a){e.exports=a.p+"static/media/tick.6df49e4b.mp3"},58:function(e,t,a){e.exports=a.p+"static/media/win.eb69c905.mp3"},61:function(e,t,a){e.exports=a(200)},66:function(e,t,a){},94:function(e,t){},95:function(e,t){}},[[61,1,2]]]);
//# sourceMappingURL=main.d6702555.chunk.js.map